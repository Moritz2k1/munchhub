<section class="dashboard munchhub-shell" [class.cart-open]="cartOpen">
  <header class="top-bar">
    <a class="brand" routerLink="/">
      <img src="/assets/icons/munchhub_logo.svg" alt="Munchhub logo" />

    </a>
    <nav class="nav-links">
      <a class="active" routerLink="/dashboard">Entdecken</a>
      <a href="#">Bestellungen</a>
      <a href="#">Favoriten</a>
      <a routerLink="/profile">Profil</a>
      <a href="#">Hilfe</a>
    </nav>
    <div class="profile">
      <div class="avatar">ML</div>
      <div class="profile-meta">
        <span class="name">Martin L.</span>
        <span class="mail">martin@gm...</span>
      </div>
      <button type="button" class="ghost">  <img height="25px" src="/assets/icons/logout.svg" alt="logout" /></button>
    </div>
  </header>

  <main class="content">
    <section class="hero">
      <div class="hero-copy">
        <p class="eyebrow">Hallo Martin</p>
        <h1>Auf was hast du heute Lust?</h1>
        <p class="subline">Schau dich um, es gibt eine Menge toller Restaurants</p>

        <div class="search">
          <input type="search" placeholder="Suche nach Restaurant, Gericht oder Kueche" />
          <button type="button">Suchen</button>
        </div>
        <div class="chips">
          <span>Asiatisch</span>
          <span>Lokales</span>
          <span>Veggie</span>
          <span>und vieles mehr</span>
        </div>
      </div>

      <div class="hero-stack">
        <article class="hero-card order-card">
          <div class="order-header">
            <span class="tag">Live tracking</span>
            <span class="eta">ETA 24 min</span>
          </div>
          <div class="order-body">
            <img src="/assets/images/foodpics/burger01.png" alt="Burger menu" />
            <div>
              <h3>Smoky Burger</h3>
              <p>Urban Grill - 2.8 km</p>
              <span class="price">12,90 EUR</span>
            </div>
          </div>


        </article>

        <article class="hero-card promo-card">
          <div class="promo-copy">
            <span class="tag soft">Strange Deal</span>
            <h3>"Papa is always watching"</h3>
            <p>Nur heute bei Hawkins Lab: Niedringe Preise, solange die Lichter Flackern</p>
            <button type="button" class="primary small">Open the Gate</button>
          </div>

        </article>
      </div>
    </section>

    <section class="stats">
      <div class="stat">
        <p>Deine Lieferung</p>
        <h3>Heute, 14:30</h3>
        <span>Hawkings Lab - 0.4 km</span>
      </div>
      <div class="stat highlight">
        <p>Wir haben die größte Auswahl!</p>
        <h3>4 Restaurants</h3>
        <span>Worauf wartest du noch ?</span>
      </div>
      <div class="stat">
        <p>Geöffnet</p>
        <h3>3 Restaurants</h3>

      </div>
    </section>

    <section class="section">
      <div class="section-head">
        <div>
          <h2>Heiße Trends</h2>
          <p>Top Picks basierend auf User in deiner Nähe.</p>
        </div>
        <button type="button" class="ghost">Alle anzeigen</button>
      </div>
      <div class="card-grid">
        <a class="meal-card" routerLink="/restaurant/hawking-labs">
          <img src="/assets/images/strange/01.png" alt="Burger" />
          <div class="meal-body">
            <h3>Hawking Labs</h3>
            <p>Upside Down- 67-89 min</p>
          </div>
          <div class="meal-meta">

            <span class="rating">Rating: 4.8</span>
          </div>
        </a>
        <a class="meal-card" routerLink="/restaurant/negans-picolini">
          <img src="/assets/images/restaurants/walkingdead.png" alt="pizza" />
          <div class="meal-body">
            <h3>Negans Picolini</h3>
            <p>Alexandria- 20-30 min</p>
          </div>
          <div class="meal-meta">

            <span class="rating">Rating: 4.7</span>
          </div>
        </a>
        <a class="meal-card" routerLink="/restaurant/the-rocks">
          <img src="/assets/images/restaurants/therock.png" alt="Chocolate dessert" />
          <div class="meal-body">
            <h3>The Rock's</h3>
            <p>Tschungle- 15-25 min</p>
          </div>
          <div class="meal-meta">
            <span>ab 6,50 EUR</span>
            <span class="rating">4.9</span>
          </div>
        </a>
      </div>
    </section>
  </main>

  <aside class="cart-panel" id="dashboard-cart" aria-label="Warenkorb">
    <div class="cart-header">
      <h2>Warenkorb</h2>
      <button
        type="button"
        class="icon-btn"
        aria-label="Warenkorb schliessen"
        (click)="toggleCart()"
      >
        x
      </button>
    </div>
    <div class="cart-items" *ngIf="cartItems().length; else emptyCart">
      <article class="cart-item" *ngFor="let item of cartItems()">
        <img [src]="item.image" [alt]="item.name" />
        <div>
          <h4>{{ item.name }}</h4>
          <p>
            {{ formatPrice(item.price) }}
            <span class="cart-qty">x{{ item.quantity }}</span>
          </p>
        </div>
        <button
          type="button"
          class="cart-remove"
          [attr.aria-label]="item.name + ' entfernen'"
          (click)="removeFromCart(item.name)"
        >
          x
        </button>
      </article>
    </div>
    <ng-template #emptyCart>
      <p class="cart-empty">Warenkorb ist leer.</p>
    </ng-template>
    <div class="cart-footer">
      <div class="cart-total">
        <span>Summe</span>
        <strong>{{ formatPrice(cartTotal()) }}</strong>
      </div>
      <button
        type="button"
        class="primary full"
        routerLink="/checkout"
        [disabled]="!cartItems().length"
      >
        Zur Kasse
      </button>
    </div>
  </aside>

  <div class="cart-scrim" [class.visible]="cartOpen" (click)="toggleCart()"></div>
  <button
    type="button"
    class="cart-toggle"
    aria-controls="dashboard-cart"
    [attr.aria-expanded]="cartOpen"
    (click)="toggleCart()"
  >
    Warenkorb
  </button>
</section>
